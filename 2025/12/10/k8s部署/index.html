<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Hexo Theme Redefine"><meta name=author content=76><script>(()=>{let r="REDEFINE-THEME-STATUS",a="dark",c="light";function t(e){var t=e===a,r=document.documentElement;r.classList.add(e),r.classList.remove(t?c:a),r.style.colorScheme=e}let s=(()=>{try{var e,t=localStorage.getItem(r);if(t)return e=JSON.parse(t).isDark,e?a:c}catch(e){}return matchMedia("(prefers-color-scheme: dark)").matches?a:c})();t(s),matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{localStorage.getItem(r)||t(e?a:c)});{let t=()=>{var e=document.body;return!!e&&(e.classList.add(s+"-mode"),!0)};if(!t()){let e=new MutationObserver(()=>{t()&&e.disconnect()});e.observe(document.documentElement,{childList:!0,subtree:!0})}}})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=canonical href=https://76-s.github.io/2025/12/10/k8s部署/ ><meta name=robots content=index,follow><meta name=googlebot content=index,follow><meta name=revisit-after content="1 days"><meta name=description content=https:&#x2F;&#x2F;76crab76.cc><meta property=og:type content=article><meta property=og:title content=K8s集群部署><meta property=og:url content=https://76-s.github.io/2025/12/10/k8s%E9%83%A8%E7%BD%B2/index.html><meta property=og:site_name content="76‘s Blog"><meta property=og:description content=https:&#x2F;&#x2F;76crab76.cc><meta property=og:locale content=zh_CN><meta property=og:image content=https://76-s.github.io/images/76.png><meta property=article:published_time content=2025-12-10T13:46:52.000Z><meta property=article:modified_time content=2025-12-10T13:56:00.564Z><meta property=article:author content=76><meta property=article:tag content=k8s><meta property=article:tag content=kubernetes><meta property=article:tag content=容器编排><meta name=twitter:card content=summary><meta name=twitter:image content=https://76-s.github.io/images/76.png><link rel=icon type=image/png href=/images/hm.svg sizes=192x192><link rel=apple-touch-icon sizes=180x180 href=/images/hm.svg><meta name=theme-color content=#A31F34><link rel="shortcut icon" href=/images/hm.svg><title>K8s集群部署 | 76</title><link rel=stylesheet href=/fonts/Chillax/chillax.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/build/tailwind.css><link rel=stylesheet href=/fonts/GeistMono/geist-mono.css><link rel=stylesheet href=/fonts/Geist/geist.css><script src=/js/build/libs/anime.min.js></script><script id=hexo-configurations>window.config={hostname:"76-s.github.io",root:"/",language:"zh-CN",path:"search.json"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,delete_mask:!1,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:["MVP++"]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:3,number:!1,expand:!0,init_open:!0},copyright:{enable:!1,default:"cc_by_nc_sa"},lazyload:!0,pangu_js:!1,recommendation:{enable:!0,title:"推荐阅读",limit:3,mobile_limit:3,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:null,url:null},title:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!1},scroll_progress:{bar:!1,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!0,custom_message:"Welcome to 76's Blog"},side_tools:{gear_rotation:!0,auto_expand:!1},open_graph:{enable:!0,image:"/images/76.png",description:"https://76crab76.cc"},google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"Hi,there",subtitle:{text:["Loading..."],hitokoto:{enable:!0,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!1,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!0,style:"default",links:{github:"https://github.com/76-s",instagram:null,zhihu:null,twitter:null,email:"byte76@163.com"},qrs:{weixin:null}}},plugins:{feed:{enable:!0},aplayer:{enable:!0,type:"fixed",audios:[{name:"最后的酒徒",artist:"盖紫玉",url:"/musics/最后的酒徒.m4a",cover:"https://p1.music.126.net/UejkRveAg22S2VQuPR6iyg==/109951170456924312.jpg?param=130y130",lrc:null},{name:"春娇与志明",artist:"街道办GDC/欧阳耀莹",url:"/musics/春娇与志明.m4a",cover:"https://p2.music.126.net/dDItr2e5E_PZ_utxPdpxvQ==/109951170682782351.jpg?param=130y130",lrc:null},{name:"再见莫妮卡",artist:"彭席彦 / Franky弗兰奇",url:"/musics/再见莫妮卡.m4a",cover:"https://p1.music.126.net/me6QV0CallEOlOP6Zb0b3w==/109951165770805050.jpg?param=130y130",lrc:null},{name:"侧脸",artist:"于果",url:"/musics/侧脸.m4a",cover:"https://p2.music.126.net/FWR6RWtqhljoKR0QyRhQzQ==/109951163127272432.jpg?param=130y130",lrc:null},{name:"匿名的好友",artist:"杨丞琳",url:"/musics/匿名的好友.m4a",cover:"https://p1.music.126.net/Qt6sfLxRCscFZVXhbQ4bfg==/109951172020385959.jpg?param=130y130",lrc:null},{name:"兜兜转转",artist:"小京东",url:"/musics/兜兜转转.m4a",cover:"https://p1.music.126.net/pM6ykuRABwGMd2l4PERNcg==/109951169003454486.jpg?param=130y130",lrc:null}]},mermaid:{enable:!1,version:"11.4.1"}},version:"2.8.5",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},"相册":{path:"/masonry/",icon:"fa-solid fa-image"},"友链":{path:"/friends/",icon:"fa-solid fa-link"},"关于":{path:"/about/",icon:"fa-solid fa-circle-user"},"书签":{path:"/bookmarks/",icon:"fa-solid fa-bookmark"}},search:{enable:!0,preload:!0}},page_templates:{friends_column:3,tags_style:"blur",bookmarks_column:3},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:null,show_on_mobile:!0,links:{"归档":{path:"/archives/",icon:"fa-regular fa-archive"},"分类":{path:"/categories/",icon:"fa-regular fa-folder"},"标签":{path:"/tags/",icon:"fa-regular fa-tags"},"说说":{path:"/essays/",icon:"fa-solid fa-paper-plane"}}},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2024/9/9 5:20:00"},window.lang_ago={second:"%s 秒前",minute:"%s 分钟前",hour:"%s 小时前",day:"%s 天前",week:"%s 周前",month:"%s 个月前",year:"%s 年前"},window.data={masonry:!0}</script><link rel=stylesheet href=/fontawesome/fontawesome.min.css><link rel=stylesheet href=/fontawesome/brands.min.css><link rel=stylesheet href=/fontawesome/solid.min.css><link rel=stylesheet href=/fontawesome/regular.min.css><meta name=generator content="Hexo 8.1.1"><link rel=alternate href=/atom.xml title="76‘s Blog" type=application/atom+xml></head><body><div class=progress-bar-container><span class=pjax-progress-bar></span></div><style>:root{--preloader-background-color:#fff;--preloader-text-color:#000}@media (prefers-color-scheme:dark){:root{--preloader-background-color:#202124;--preloader-text-color:#fff}}@media (prefers-color-scheme:light){:root{--preloader-background-color:#fff;--preloader-text-color:#000}}@media (max-width:600px){.ml13{font-size:2.6rem!important}}.preloader{display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;position:fixed;padding:12px;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;background-color:var(--preloader-background-color);z-index:1100;transition:opacity .2s ease-in-out}.ml13{font-size:3.2rem;color:var(--preloader-text-color);letter-spacing:-1px;font-weight:500;font-family:Chillax-Variable,sans-serif;text-align:center}.ml13 .word{display:inline-flex;flex-wrap:wrap;white-space:nowrap}.ml13 .letter{display:inline-block;line-height:1em}</style><div class=preloader><h2 class=ml13>Welcome to 76&#39;s Blog</h2><script>var textWrapper=document.querySelector(".ml13"),words=textWrapper.textContent.trim().split(" "),animation=(textWrapper.innerHTML="",words.forEach(function(e){var t=document.createElement("span");t.classList.add("word"),t.innerHTML=e.replace(/\S/g,"<span class='letter'>$&</span>"),textWrapper.appendChild(t),textWrapper.appendChild(document.createTextNode(" "))}),anime.timeline({loop:!0}).add({targets:".ml13 .letter",translateY:[20,0],translateZ:0,opacity:[0,1],filter:["blur(5px)","blur(0px)"],easing:"easeOutExpo",duration:1200,delay:(e,t)=>300+20*t}).add({targets:".ml13 .letter",translateY:[0,-20],opacity:[1,0],filter:["blur(0px)","blur(5px)"],easing:"easeInExpo",duration:1e3,delay:(e,t)=>15*t,complete:function(){hidePreloader()}},"-=700"));let themeStatus=JSON.parse(localStorage.getItem("REDEFINE-THEME-STATUS"))?.isDark;function hidePreloader(){var e=document.querySelector(".preloader");e.style.opacity="0",setTimeout(function(){e.style.display="none"},200)}(themeStatus=null==themeStatus?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":themeStatus)?(document.documentElement.style.setProperty("--preloader-background-color","#202124"),document.documentElement.style.setProperty("--preloader-text-color","#fff")):(document.documentElement.style.setProperty("--preloader-background-color","#fff"),document.documentElement.style.setProperty("--preloader-text-color","#000")),window.addEventListener("load",function(){setTimeout(hidePreloader,5e3)})</script></div><main class=page-container id=swup><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class=main-content-header><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class=left><a class=logo-title href=/ >76</a></div><div class=right><div class=desktop><ul class=navbar-list><li class=navbar-item><a class="" href=/ ><i class="fa-regular fa-house fa-fw"></i> 首页</a></li><li class=navbar-item><a class="" href=/masonry/ ><i class="fa-solid fa-image fa-fw"></i> 相册</a></li><li class=navbar-item><a class="" href=/friends/ ><i class="fa-solid fa-link fa-fw"></i> 友链</a></li><li class=navbar-item><a class="" href=/about/ ><i class="fa-solid fa-circle-user fa-fw"></i> 关于</a></li><li class=navbar-item><a class="" href=/bookmarks/ ><i class="fa-solid fa-bookmark fa-fw"></i> 书签</a></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class=mobile><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class=navbar-bar-middle></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href=/ ><span>首页 </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href=/masonry/ ><span>相册 </span><i class="fa-solid fa-image fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href=/friends/ ><span>友链 </span><i class="fa-solid fa-link fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href=/about/ ><span>关于 </span><i class="fa-solid fa-circle-user fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href=/bookmarks/ ><span>书签 </span><i class="fa-solid fa-bookmark fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href=/archives/ ><span>归档</span> <i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href=/categories/ ><span>分类</span> <i class="fa-regular fa-folder fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href=/tags/ ><span>标签</span> <i class="fa-regular fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href=/essays/ ><span>说说</span> <i class="fa-solid fa-paper-plane fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href=/tags><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">5</div><div class="label text-third-text-color text-sm">标签</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href=/categories><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">3</div><div class="label text-third-text-color text-sm">分类</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href=/archives><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">3</div><div class="label text-third-text-color text-sm">文章</div></a></div></div><div class=window-mask></div></header></div><div class="main-content-body transition-fade-up"><div class=main-content><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class=article-content-container><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">K8s集群部署</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src=/images/mg.svg></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">76</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">MVP++</span></div><div class=meta-info><div class=article-meta-info><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class=desktop>2025-12-10 21:46:52</span> <span class=mobile>2025-12-10 21:46:52</span> <span class=hover-info>创建</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class=desktop>2025-12-10 21:56</span> <span class=mobile>2025-12-10 21:56</span> <span class=hover-info>更新</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href=/categories/%E8%BF%90%E7%BB%B4/ >运维</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href=/tags/kubernetes/ >kubernetes</a>&nbsp;</li><li>| <a href=/tags/k8s/ >k8s</a>&nbsp;</li><li>| <a href=/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/ >容器编排</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>1.6k 字</span> </span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i>&nbsp;<span>7 分钟</span> </span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id=busuanzi_value_page_pv></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><p>环境说明：三台Ubuntu24.04.2，IP分别为128、129、130，无法科学上网</p><p>1、主机名配置与解析</p><ul><li>修改主机名</li><li>配置hosts文件</li><li>ping验证</li></ul><p>2、关闭swap空间</p><ul><li>临时关闭 <code>swapoff -a</code></li><li>永久关闭 <code>vim /etc/fstab</code> 注释包含 swpa 的行</li><li><code>free -h</code> 或 <code>swapon -show</code> 验证</li></ul><p>3、时间同步</p><ul><li>查看当前时间&#x2F;时区 <code>timedatectl status</code></li><li>更改时区 <code>timedatectl set-timezone Asia/Shanghai</code></li><li>更改时间<ul><li>手动更改 <code>date -s &quot;2025-12-03 14:30:00&quot;</code></li><li>自动同步 <code>systemctl restart systemd-timesyncd</code> 重启服务会立即和配置文件 &#x2F;etc&#x2F;systemd&#x2F;timesyncd.conf 中指定的ntp服务器同步下</li></ul></li></ul><p>4、防火墙等安全策略</p><ul><li>临时关闭防火墙或配置放行规则</li><li>Ubuntu默认不使用SELinux（使用AppArmor），但AppArmor不会影响K8s实验</li></ul><p>5、内核模块与参数</p><div class=code-container data-rel=Shell><figure class="iseeu highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_"># </span><span class=language-bash>1. 将需要加载的内核模块加入配置文件</span></span><br><span class=line>cat &lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf</span><br><span class=line>overlay</span><br><span class=line>br_netfilter</span><br><span class=line>EOF</span><br><span class=line><span class="meta prompt_"></span></span><br><span class=line><span class="meta prompt_"># </span><span class=language-bash>2. 立即加载模块</span></span><br><span class=line>sudo modprobe overlay</span><br><span class=line>sudo modprobe br_netfilter</span><br><span class=line><span class="meta prompt_"></span></span><br><span class=line><span class="meta prompt_"># </span><span class=language-bash>3. 配置内核参数并持久化</span></span><br><span class=line>cat &lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf</span><br><span class=line>net.bridge.bridge-nf-call-iptables  = 1  #开启桥接流量经过 iptables 的检查，确保 Service 的流量规则生效</span><br><span class=line>net.bridge.bridge-nf-call-ip6tables = 0  #同上，针对 IPv6 流量</span><br><span class=line>net.ipv4.ip_forward                 = 1  #开启 Linux 主机的 IPv4 路由转发，使 Pod 可以跨节点通信</span><br><span class=line>net.ipv6.conf.all.forwarding        = 0</span><br><span class=line>net.ipv4.vs.conn_reuse_mode         = 0  #调整IPVS连接复用行为，推荐在系统内核&gt;5.9时启用，在大型集群中性能更好</span><br><span class=line>EOF</span><br><span class=line><span class="meta prompt_"></span></span><br><span class=line><span class="meta prompt_"># </span><span class=language-bash>4. 使配置生效（无需重启）</span></span><br><span class=line>sudo sysctl --system</span><br></pre></td></tr></table></figure></div><p>6、SSH免密登录（仅master节点，非必要，仅推荐）<br>7、安装容器运行时CRI（containerd）</p><ul><li>在线安装<ol><li>添加Docker官方GPG密钥（用于验证软件包）</li><li>添加阿里云提供的Docker CE软件源</li><li>安装containerd</li><li>修改配置文件</li></ol></li></ul><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br></pre></td><td class=code><pre><span class=line># 添加Docker官方GPG密钥</span><br><span class=line>sudo mkdir -m 0755 -d /etc/apt/keyrings</span><br><span class=line>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class=line>sudo chmod a+r /etc/apt/keyrings/docker.asc</span><br><span class=line></span><br><span class=line># 添加阿里云的Docker CE仓库镜像</span><br><span class=line>echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class=line></span><br><span class=line># 更新源并安装containerd</span><br><span class=line>sudo apt-get update</span><br><span class=line>sudo apt-get install -y containerd.io</span><br><span class=line></span><br><span class=line># 备份原配置</span><br><span class=line>cp /etc/containerd/config.toml /etc/containerd/config.toml.bak</span><br><span class=line></span><br><span class=line># 生成包含CRI插件的完整配置文件</span><br><span class=line>containerd config default &gt; /etc/containerd/config.toml</span><br><span class=line></span><br><span class=line># 修改配置文件</span><br><span class=line>disabled_plugins = []  #确保括号内不含cri</span><br><span class=line>SystemdCgroup = true  #使用systemd作为cgroup驱动</span><br><span class=line>sandbox = &quot;registry.aliyuncs.com/google_containers/pause:3.10.1&quot;  #Kubernetes需要使用pause镜像作为sandbox容器</span><br><span class=line></span><br><span class=line># 验证 </span><br><span class=line>grep disabled_plugins /etc/containerd/config.toml</span><br><span class=line>grep SystemdCgroup /etc/containerd/config.toml</span><br><span class=line>grep sandbox /etc/containerd/config.toml</span><br><span class=line></span><br><span class=line># 使用systemd管理containerd</span><br><span class=line>sudo systemctl daemon-reload</span><br><span class=line>sudo systemctl enable --now containerd</span><br><span class=line>sudo systemctl restart containerd</span><br><span class=line>sudo systemctl status containerd</span><br><span class=line></span><br><span class=line># 镜像加速配置参考</span><br><span class=line>https://xuanyuan.cloud/usage/containerd</span><br></pre></td></tr></table></figure></div><ul><li>离线安装<br>1.下载二进制包离线安装<br>2.下载rpm&#x2F;deb包离线安装</li></ul><p>8、安装containerd 的管理包 crictl</p><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre></td><td class=code><pre><span class=line>## 选择版本 https://github.com/kubernetes-sigs/cri-tools/releases</span><br><span class=line> </span><br><span class=line>wget https://github.com/kubernetes-sigs/cri-tools/releases/download/v1.34.0/crictl-v1.34.0-linux-amd64.tar.gz</span><br><span class=line> </span><br><span class=line>tar xvf crictl-v1.23.0-linux-amd64.tar.gz -C /usr/local/bin</span><br><span class=line> </span><br><span class=line>cat &lt;&lt;EOF&gt; /etc/crictl.yaml</span><br><span class=line>runtime-endpoint: unix:///run/containerd/containerd.sock</span><br><span class=line>image-endpoint: unix:///run/containerd/containerd.sock</span><br><span class=line>timeout: 10</span><br><span class=line>debug: false</span><br><span class=line>EOF</span><br><span class=line> </span><br><span class=line># 验证</span><br><span class=line>crictl pull hello-world</span><br><span class=line>crictl images</span><br></pre></td></tr></table></figure></div><p>9、安装kubeadm, kubelet和kubectl</p><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre></td><td class=code><pre><span class=line># 安装依赖</span><br><span class=line>sudo apt install -y apt-transport-https ca-certificates curl gpg conntrack</span><br><span class=line></span><br><span class=line># 添加Kubernetes官方仓库</span><br><span class=line>curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.31/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg</span><br><span class=line></span><br><span class=line>echo &#x27;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.31/deb/ /&#x27; | sudo tee /etc/apt/sources.list.d/kubernetes.list</span><br><span class=line></span><br><span class=line>sudo apt update</span><br><span class=line></span><br><span class=line># 安装kubeadm、kubelet和kubectl</span><br><span class=line>sudo apt install -y kubelet kubeadm kubectl</span><br><span class=line></span><br><span class=line># 锁定版本防止自动更新</span><br><span class=line>sudo apt-mark hold kubelet kubeadm kubectl</span><br><span class=line></span><br><span class=line># 启用kubelet服务</span><br><span class=line>sudo systemctl enable --now kubelet</span><br><span class=line></span><br><span class=line># 验证安装</span><br><span class=line>kubeadm version</span><br><span class=line>kubectl version --client</span><br></pre></td></tr></table></figure></div><p>10、使用kubeadm初始化集群</p><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre></td><td class=code><pre><span class=line># 在主节点执行</span><br><span class=line>kubeadm init \</span><br><span class=line>  --apiserver-advertise-address=192.168.19.128 \</span><br><span class=line>  --pod-network-cidr=10.244.0.0/16 \</span><br><span class=line>  --service-cidr=10.96.0.0/12 \</span><br><span class=line>  --image-repository=registry.aliyuncs.com/google_containers \</span><br><span class=line>  --cri-socket=unix:///var/run/containerd/containerd.sock \</span><br><span class=line></span><br><span class=line># 主节点和工作节点分别执行输入后的提示信息！！！</span><br><span class=line># 在主节点验证</span><br><span class=line>kubectl get nodes</span><br><span class=line>kubectl get pods -A</span><br></pre></td></tr></table></figure></div><p>11、安装 CNI 网络插件</p><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre></td><td class=code><pre><span class=line>#下载并修改Calico配置文件使用国内镜像</span><br><span class=line>curl -O https://raw.githubusercontent.com/projectcalico/calico/v3.28.0/manifests/calico.yaml</span><br><span class=line>##替换镜像为国内镜像源</span><br><span class=line>sed -i &#x27;s|docker.io/calico/|docker.m.daocloud.io/calico/|g&#x27; calico.yaml</span><br><span class=line>sed -i &#x27;s|quay.io/calico/|quay.m.daocloud.io/calico/|g&#x27; calico.yaml</span><br><span class=line>#应用修改后的配置文件</span><br><span class=line>kubectl apply -f calico.yaml</span><br><span class=line>#检查状态</span><br><span class=line>kubectl get pods -n kube-system -w  </span><br><span class=line></span><br><span class=line>#后续升级Calico</span><br><span class=line>##重新下载新版本的calico.yaml</span><br><span class=line>curl -O https://raw.githubusercontent.com/projectcalico/calico/&lt;新版&gt;/manifests/calico.yaml</span><br><span class=line>#修改镜像源后应用</span><br><span class=line>kubectl apply -f calico.yaml</span><br></pre></td></tr></table></figure></div><p>12、部署一个pod看看</p><div class=code-container data-rel=Plaintext><figure class="iseeu highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br></pre></td><td class=code><pre><span class=line>cat &gt; nginx.yaml &lt;&lt; EOF</span><br><span class=line>apiVersion: apps/v1</span><br><span class=line>kind: Deployment</span><br><span class=line>metadata:</span><br><span class=line>  name: nginx-deployment</span><br><span class=line>  labels:</span><br><span class=line>    app: nginx</span><br><span class=line>spec:</span><br><span class=line>  replicas: 2</span><br><span class=line>  selector:</span><br><span class=line>    matchLabels:</span><br><span class=line>      app: nginx</span><br><span class=line>  template:</span><br><span class=line>    metadata:</span><br><span class=line>      labels:</span><br><span class=line>        app: nginx</span><br><span class=line>    spec:</span><br><span class=line>      containers:</span><br><span class=line>      - name: nginx</span><br><span class=line>        image: swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/library/nginx:1.23.2</span><br><span class=line>        ports:</span><br><span class=line>        - containerPort: 80</span><br><span class=line>---</span><br><span class=line>apiVersion: v1</span><br><span class=line>kind: Service</span><br><span class=line>metadata:</span><br><span class=line>  name: nginx-service</span><br><span class=line>  labels:</span><br><span class=line>    app: nginx</span><br><span class=line>spec:</span><br><span class=line>  type: NodePort</span><br><span class=line>  selector:</span><br><span class=line>    app: nginx</span><br><span class=line>  ports:</span><br><span class=line>    - port: 80</span><br><span class=line>      targetPort: 80</span><br><span class=line>      protocol: TCP</span><br><span class=line>      nodePort: 30080</span><br><span class=line>      name: nginx</span><br><span class=line>EOF</span><br><span class=line></span><br><span class=line>kubectl apply -f nginx.yaml</span><br><span class=line>kubectl get pod</span><br><span class=line>kubectl get svc</span><br></pre></td></tr></table></figure></div><blockquote><p>9和10为安装方式（kubeadm），官方提供的“半自动化部署工具”。（目标是让部署一个符合“最佳实践”的、标准的 Kubernetes 集群变得快速和简单）</p></blockquote><p>工作原理：<br>kubeadm 本身并不直接提供 Kubernetes 的核心组件（如 kubelet、kube-apiserver 等）。它做了以下几件事：<br>1、检查环境：确保服务器满足所有前置条件（如讨论的1-8步）<br>2、拉取镜像：从互联网（通常是谷歌的镜像仓库 k8s.gcr.io，现在部分转向 registry.k8s.io）下载所有必需的 Kubernetes 核心组件镜像。<br>3、生成证书：为集群各个组件之间的安全通信生成所有必要的证书和密钥。<br>4、生成静态 Pod 清单：在 Master 节点上，它会将 kube-apiserver, kube-controller-manager, kube-scheduler 等组件的部署文件（称为 Static Pod Manifest）写入 &#x2F;etc&#x2F;kubernetes&#x2F;manifests 目录，然后由该节点上的 kubelet 直接启动和管理这些 Pod。<br>5、配置 kubelet：与节点上的 kubelet 进程通信，对其进行配置。<br>6、生成加入令牌：生成一个安全的令牌，让 Worker 节点可以加入到集群中。</p><blockquote><p>kubeadm 在底层仍然是使用二进制的容器镜像来运行各个组件，但它极大地简化了手动配置的复杂性。</p></blockquote><p>其他安装方式：二进制、全自动化部署工具、托管服务</p></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href=/tags/kubernetes/ >#kubernetes</a>&nbsp;</li><li class="tag-item mx-0.5"><a href=/tags/k8s/ >#k8s</a>&nbsp;</li><li class="tag-item mx-0.5"><a href=/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/ >#容器编排</a>&nbsp;</li></ul><div class="recommended-article px-2 sm:px-6 md:px-8"><div class=recommended-desktop><div class="recommended-article-header text-xl md:text-3xl font-bold mt-10"><i aria-hidden=true></i><span>推荐阅读</span></div><div class=recommended-article-group><a class=recommended-article-item href="/2024/09/09/Hexo+Github=%3E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" title="Hexo+Github==>个人博客" rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt="Hexo+Github==>个人博客" class=!max-w-none> <span class=title>Hexo+Github==>个人博客</span> </a><a class=recommended-article-item href=/about/index.html title=关于 rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt=关于 class=!max-w-none> <span class=title>关于</span> </a><a class=recommended-article-item href=/2025/05/22/%E5%AF%B9%E7%A7%B0%E5%92%8C%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/ title=对称秘钥和非对称秘钥 rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt=对称秘钥和非对称秘钥 class=!max-w-none> <span class=title>对称秘钥和非对称秘钥</span></a></div></div><div class=recommended-mobile><div class="recommended-article-header text-xl md:text-3xl font-bold mt-10"><i aria-hidden=true></i><span>推荐阅读</span></div><div class=recommended-article-group><a class=recommended-article-item href="/2024/09/09/Hexo+Github=%3E%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" title="Hexo+Github==>个人博客" rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt="Hexo+Github==>个人博客" class=!max-w-none> <span class=title>Hexo+Github==>个人博客</span> </a><a class=recommended-article-item href=/about/index.html title=关于 rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt=关于 class=!max-w-none> <span class=title>关于</span> </a><a class=recommended-article-item href=/2025/05/22/%E5%AF%B9%E7%A7%B0%E5%92%8C%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/ title=对称秘钥和非对称秘钥 rel=bookmark><img src=/images/wallhaven-wqery6-light.webp alt=对称秘钥和非对称秘钥 class=!max-w-none> <span class=title>对称秘钥和非对称秘钥</span></a></div></div></div><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class=next rel=next href=/2025/05/22/%E5%AF%B9%E7%A7%B0%E5%92%8C%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/ ><span class="title flex justify-center items-center"><span class="post-nav-title-item truncate max-w-48">对称秘钥和非对称秘钥</span> <span class=post-nav-item>下一篇</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div><div class="comment-container px-2 sm:px-6 md:px-8 pb-8"><div class="comments-container mt-10 w-full"><div id=comment-anchor class="w-full h-2.5"></div><div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">评论</div><div id=giscus-container></div><script data-swup-reload-script defer=defer>async function loadGiscus(){var a,t={src:"https://giscus.app/client.js","data-repo":"76-s/Blog_Comment_Giscus","data-repo-id":"R_kgDOQl-Vrw","data-category":"Announcements","data-category-id":"DIC_kwDOQl-Vr84Czm-7","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"1","data-theme":"preferred_color_scheme","data-lang":"zh-CN","data-input-position":"top","data-loading":"lazy",crossorigin:"anonymous",async:!0},e=document.createElement("script");for(a in t)e.setAttribute(a,t[a]);document.getElementById("giscus-container").appendChild(e)}{let a=setTimeout(()=>{loadGiscus(),clearTimeout(a)},1e3)}</script></div></div></div><div class=toc-content-container><div class=post-toc-wrap><div class=post-toc><div class=toc-title>目录</div><div class=page-title>K8s集群部署</div></div></div></div></div></div></div><div class=main-content-footer><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class=text-center>&copy; <span>2024</span> - 2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style=--fa-animation-duration:0.5s;color:#f54545></i>&nbsp;&nbsp;<a href=/ >76</a><p class="post-count space-x-0.5"><span>共撰写了 3 篇文章 </span><span>共 2.7k 字</span></p></div><script data-swup-reload-script src=https://cn.vercount.one/js></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id=busuanzi_container_site_uv class=lg:!block><span class=text-sm>访问人数</span> <span id=busuanzi_value_site_uv></span> </span><span id=busuanzi_container_site_pv class=lg:!block><span class=text-sm>总访问量</span> <span id=busuanzi_value_site_pv></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version=1.1 id=圖層_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px width=1rem height=1rem viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space=preserve><path fill=#0E83CD d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target=_blank class=text-base href=https://hexo.io>Hexo</a> 驱动</span> <span class="text-sm lg:block">主题&nbsp;<a class=text-base target=_blank href=https://github.com/EvanNotFound/hexo-theme-redefine>Redefine v2.8.5</a></span></div><div>博客已运行 <span class=odometer id=runtime_days></span> 天 <span class=odometer id=runtime_hours></span> 小时 <span class=odometer id=runtime_minutes></span> 分钟 <span class=odometer id=runtime_seconds></span> 秒</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class=post-tools><div class=post-tools-container><ul class=article-tools-list><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li><li class=go-comment><i class="fa-regular fa-comments"></i></li></ul></div></div><div class=right-side-tools-container><div class=side-tools-container><ul class=hidden-tools-list><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools rss flex justify-center items-center"><a class="flex justify-center items-center" href=/atom.xml target=_blank><i class="fa-regular fa-rss"></i></a></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class=visible-tools-list><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class=percent></span></li></ul></div></div><div class=image-viewer-container><img src=""></div><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-input-field-pre><i class="fa-solid fa-keyboard"></i></span><div class=search-input-container><input autocomplete=off autocorrect=off autocapitalize=off placeholder=站内搜索您需要的内容... spellcheck=false type=search class=search-input></div><span class=popup-btn-close><i class="fa-solid fa-times"></i></span></div><div id=search-result><div id=no-result><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src=/js/build/libs/Swup.min.js></script><script src=/js/build/libs/SwupSlideTheme.min.js></script><script src=/js/build/libs/SwupScriptsPlugin.min.js></script><script src=/js/build/libs/SwupProgressPlugin.min.js></script><script src=/js/build/libs/SwupScrollPlugin.min.js></script><script src=/js/build/libs/SwupPreloadPlugin.min.js></script><script>let swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src=/js/build/tools/imageViewer.js type=module></script><script src=/js/build/utils.js type=module></script><script src=/js/build/main.js type=module></script><script src=/js/build/layouts/navbarShrink.js type=module></script><script src=/js/build/tools/scrollTopBottom.js type=module></script><script src=/js/build/tools/lightDarkSwitch.js type=module></script><script src=/js/build/layouts/categoryList.js type=module></script><script src=/js/build/tools/localSearch.js type=module></script><script src=/js/build/tools/codeBlock.js type=module></script><script src=/js/build/layouts/lazyload.js type=module></script><script src=/js/build/tools/runtime.js></script><script src=/js/build/libs/odometer.min.js></script><link rel=stylesheet href=/assets/odometer-theme-minimal.css><script src=/js/build/libs/Typed.min.js></script><script src=/js/build/plugins/typed.js type=module></script><script src=/js/build/libs/minimasonry.min.js></script><script src=/js/build/plugins/masonry.js type=module></script><script src=/js/build/tools/tocToggle.js type=module data-swup-reload-script=""></script><script src=/js/build/layouts/toc.js type=module data-swup-reload-script=""></script><script src=/js/build/plugins/tabs.js type=module data-swup-reload-script=""></script><script src=/js/build/libs/moment-with-locales.min.js data-swup-reload-script=""></script><script src=/js/build/layouts/essays.js type=module data-swup-reload-script=""></script><script src=/js/build/layouts/bookmarkNav.js type=module></script><div id=aplayer></div><script src=/js/build/libs/APlayer.min.js></script><script src=/js/build/plugins/aplayer.js></script></body></html>